[{
  "history_id" : "6v53mwd4whq",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\ndf_concat.to_csv(f'{homedir}/research/disease-prediction/training-data.csv', index=False)\nprint('training data successfully created')\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\ntraining data successfully created\n",
  "history_begin_time" : 1717471678555,
  "history_end_time" : 1717471682365,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : "100001",
  "indicator" : "Done"
},{
  "history_id" : "e3ou81dbg6f",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\ndf_concat.to_csv(f'{homedir}/research/disease-prediction/training-data.csv', index=False)\nprint('training data successfully created')\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\n",
  "history_begin_time" : 1717470591510,
  "history_end_time" : 1717470596062,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : "100001",
  "indicator" : "Done"
},{
  "history_id" : "fzjo9ouds5u",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\ndf_concat.to_csv(f'{homedir}/research/disease-prediction/training-data.csv', index=False)\nprint('training data successfully created')\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\ntraining data successfully created\n",
  "history_begin_time" : 1717470445029,
  "history_end_time" : 1717470448959,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : "100001",
  "indicator" : "Done"
},{
  "history_id" : "x4qox2fj0y4",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\ndf_concat.to_csv(f'{homedir}/research/disease-prediction/training-data.csv', index=False)\nprint('training data successfully created')\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\n",
  "history_begin_time" : 1717470311608,
  "history_end_time" : 1717470316001,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : "100001",
  "indicator" : "Done"
},{
  "history_id" : "o7mscvshy7t",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\ndf_concat.to_csv(f'{homedir}/research/disease-prediction/training-data.csv', index=False)\nprint('training data successfully created')\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\ntraining data successfully created\n",
  "history_begin_time" : 1717470250444,
  "history_end_time" : 1717470254767,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : "100001",
  "indicator" : "Done"
},{
  "history_id" : "mq63uqc97av",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\ndf_concat.to_csv(f'{homedir}/research/disease-prediction/training-data.csv', index=False)\nprint('training data successfully created')\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\ntraining data successfully created\n",
  "history_begin_time" : 1717470096364,
  "history_end_time" : 1717470100137,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : "100001",
  "indicator" : "Done"
},{
  "history_id" : "4tmpcnv9jt4",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\ndf_concat.to_csv(f'{homedir}/research/disease-prediction/training-data.csv', index=False)\nprint('training data successfully created')\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\ntraining data successfully created\n",
  "history_begin_time" : 1717468931456,
  "history_end_time" : 1717468934907,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : "100001",
  "indicator" : "Done"
},{
  "history_id" : "imjplkae18g",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\ndf_concat.to_csv(f'{homedir}/research/disease-prediction/training-data.csv', index=False)\nprint('training data successfully created')\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\ntraining data successfully created\n",
  "history_begin_time" : 1717468815029,
  "history_end_time" : 1717468819007,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : "100001",
  "indicator" : "Done"
},{
  "history_id" : "czydvofh1qk",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\ndf_concat.to_csv(f'{homedir}/research/disease-prediction/training-data.csv', index=False)\nprint('training data successfully created')\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\ntraining data successfully created\n",
  "history_begin_time" : 1717468601131,
  "history_end_time" : 1717468605009,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : "100001",
  "indicator" : "Done"
},{
  "history_id" : "zxBOEfUetdWP",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\ndf_concat.to_csv(f'{homedir}/research/disease-prediction/training-data.csv', index=False)\nprint('training data successfully created')\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\ntraining data successfully created\n",
  "history_begin_time" : 1717373861850,
  "history_end_time" : 1717373864423,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "tu5cYh6hhue1",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\ndf_concat.to_csv(f'{homedir}/research/disease-prediction/training-data.csv', index=False)\nprint('training data successfully created')\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\ntraining data successfully created\n",
  "history_begin_time" : 1717363168807,
  "history_end_time" : 1717363170991,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "eDQOMIbCzgjb",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\ncols = df_concat.columns\nprint(cols)\ncols = cols[1:]\n\n# Since, every disease has multiple symptoms, combine all symptoms per disease per row\ndf_concat = df_concat.groupby('disease').sum()\ndf_concat = df_concat.reset_index()\nprint(df_concat[:5])\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\nIndex(['disease', 'shortness of breath', 'dizziness', 'asthenia', 'fall',\n       'syncope', 'vertigo', 'sweat', 'sweating increased', 'palpitation',\n       ...\n       'feces in rectum', 'prodrome', 'hypoproteinemia',\n       'alcohol binge episode', 'abdomen acute', 'air fluid level',\n       'catching breath', 'large-for-dates fetus', 'immobile',\n       'homicidal thoughts'],\n      dtype='object', length=405)\n                               disease  ...  homicidal thoughts\n0                  Alzheimer's disease  ...                 0.0\n1                                  HIV  ...                 0.0\n2       Pneumocystis carinii pneumonia  ...                 1.0\n3             accident cerebrovascular  ...                 0.0\n4  acquired immuno-deficiency syndrome  ...                 0.0\n[5 rows x 405 columns]\n",
  "history_begin_time" : 1717363074163,
  "history_end_time" : 1717363076426,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "1qchRCAsXuEc",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\ndf_concat.drop_duplicates(keep='first',inplace=True)\nprint(df_concat.head())\nprint(len(df_concat))\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n2112\n",
  "history_begin_time" : 1717363001991,
  "history_end_time" : 1717363004091,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "zagVgpUHvXU0",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n\n# Disease Dataframe\ndf_disease = df['disease']\nprint(df_disease.head())\n\n# Concatenate OHE Labels with the Disease Column\ndf_concat = pd.concat([df_disease,df_ohe], axis=1)\nprint(df_concat.head())\n\n\n# df_concat.drop_duplicates(keep='first',inplace=True)\n# df_concat.head()\n# len(df_concat)\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n0    hypertensive disease\n1    hypertensive disease\n2    hypertensive disease\n3    hypertensive disease\n4    hypertensive disease\nName: disease, dtype: object\n                disease  shortness of breath  ...  immobile  homicidal thoughts\n0  hypertensive disease                  0.0  ...       0.0                 0.0\n1  hypertensive disease                  0.0  ...       0.0                 0.0\n2  hypertensive disease                  0.0  ...       0.0                 0.0\n3  hypertensive disease                  0.0  ...       0.0                 0.0\n4  hypertensive disease                  0.0  ...       0.0                 0.0\n[5 rows x 405 columns]\n",
  "history_begin_time" : 1717362962897,
  "history_end_time" : 1717362965013,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "NP4d6pdRAMUg",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\nfor i in range(len(onehot_encoded)):\n    df_ohe.loc[i] = onehot_encoded[i]\n\nprint(df_ohe.head())\n\nprint('ohe', len(df_ohe))\n# # Disease Dataframe\n# df_disease = df['disease']\n# df_disease.head()\n\n# # Concatenate OHE Labels with the Disease Column\n# df_concat = pd.concat([df_disease,df_ohe], axis=1)\n# df_concat.head()\n\n\n# df_concat.drop_duplicates(keep='first',inplace=True)\n# df_concat.head()\n# len(df_concat)\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n   shortness of breath  dizziness  ...  immobile  homicidal thoughts\n0                  0.0        0.0  ...       0.0                 0.0\n1                  0.0        0.0  ...       0.0                 0.0\n2                  0.0        0.0  ...       0.0                 0.0\n3                  0.0        0.0  ...       0.0                 0.0\n4                  0.0        0.0  ...       0.0                 0.0\n[5 rows x 404 columns]\nohe 2126\n",
  "history_begin_time" : 1717362891053,
  "history_end_time" : 1717362893178,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "W2L80kS4sJu7",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# Create a new dataframe to save OHE labels\ndf_ohe = pd.DataFrame(columns = cols)\nprint(df_ohe.head())\n\n\n# for i in range(len(onehot_encoded)):\n#     df_ohe.loc[i] = onehot_encoded[i]\n\n# df_ohe.head()\n\n# # Disease Dataframe\n# df_disease = df['disease']\n# df_disease.head()\n\n# # Concatenate OHE Labels with the Disease Column\n# df_concat = pd.concat([df_disease,df_ohe], axis=1)\n# df_concat.head()\n\n\n# df_concat.drop_duplicates(keep='first',inplace=True)\n# df_concat.head()\n# len(df_concat)\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\nEmpty DataFrame\nColumns: [shortness of breath, dizziness, asthenia, fall, syncope, vertigo, sweat, sweating increased, palpitation, nausea, angina pectoris, pressure chest, polyuria, polydypsia, pain chest, orthopnea, rale, unresponsiveness, mental status changes, vomiting, labored breathing, feeling suicidal, suicidal, hallucinations auditory, feeling hopeless, weepiness, sleeplessness, motor retardation, irritable mood, blackout, mood depressed, hallucinations visual, worry, agitation, tremor, intoxication, verbal auditory hallucinations, energy increased, difficulty, nightmare, unable to concentrate, homelessness, hypokinesia, dyspnea on exertion, chest tightness, cough, fever, decreased translucency, productive cough, pleuritic pain, yellow sputum, breath sounds decreased, chill, rhonchus, green sputum, non-productive cough, wheezing, haemoptysis, distress respiratory, tachypnea, malaise, night sweat, jugular venous distention, dyspnea, dysarthria, speech slurred, facial paresis, hemiplegia, seizure, numbness, symptom aggravating factors, st segment elevation, st segment depression, t wave inverted, presence of q wave, chest discomfort, bradycardia, pain, nonsmoker, erythema, hepatosplenomegaly, pruritus, diarrhea, abscess bacterial, swelling, apyrexial, dysuria, hematuria, renal angle tenderness, lethargy, hyponatremia, hemodynamically stable, difficulty passing urine, consciousness clear, guaiac positive, monoclonal, ecchymosis, tumor cell invasion, haemorrhage, pallor, ...]\nIndex: []\n[0 rows x 404 columns]\n",
  "history_begin_time" : 1717362719891,
  "history_end_time" : 1717362721092,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "FZJ3TxIho0k1",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\nimport numpy as np\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# # Create a new dataframe to save OHE labels\n# df_ohe = pd.DataFrame(columns = cols)\n# # df_ohe.head()\n\n\n# for i in range(len(onehot_encoded)):\n#     df_ohe.loc[i] = onehot_encoded[i]\n\n# df_ohe.head()\n\n# # Disease Dataframe\n# df_disease = df['disease']\n# df_disease.head()\n\n# # Concatenate OHE Labels with the Disease Column\n# df_concat = pd.concat([df_disease,df_ohe], axis=1)\n# df_concat.head()\n\n\n# df_concat.drop_duplicates(keep='first',inplace=True)\n# df_concat.head()\n# len(df_concat)\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n['shortness of breath' 'dizziness' 'asthenia' 'fall' 'syncope' 'vertigo'\n 'sweat' 'sweating increased' 'palpitation' 'nausea' 'angina pectoris'\n 'pressure chest' 'polyuria' 'polydypsia' 'pain chest' 'orthopnea' 'rale'\n 'unresponsiveness' 'mental status changes' 'vomiting' 'labored breathing'\n 'feeling suicidal' 'suicidal' 'hallucinations auditory'\n 'feeling hopeless' 'weepiness' 'sleeplessness' 'motor retardation'\n 'irritable mood' 'blackout' 'mood depressed' 'hallucinations visual'\n 'worry' 'agitation' 'tremor' 'intoxication'\n 'verbal auditory hallucinations' 'energy increased' 'difficulty'\n 'nightmare' 'unable to concentrate' 'homelessness' 'hypokinesia'\n 'dyspnea on exertion' 'chest tightness' 'cough' 'fever'\n 'decreased translucency' 'productive cough' 'pleuritic pain'\n 'yellow sputum' 'breath sounds decreased' 'chill' 'rhonchus'\n 'green sputum' 'non-productive cough' 'wheezing' 'haemoptysis'\n 'distress respiratory' 'tachypnea' 'malaise' 'night sweat'\n 'jugular venous distention' 'dyspnea' 'dysarthria' 'speech slurred'\n 'facial paresis' 'hemiplegia' 'seizure' 'numbness'\n 'symptom aggravating factors' 'st segment elevation'\n 'st segment depression' 't wave inverted' 'presence of q wave'\n 'chest discomfort' 'bradycardia' 'pain' 'nonsmoker' 'erythema'\n 'hepatosplenomegaly' 'pruritus' 'diarrhea' 'abscess bacterial' 'swelling'\n 'apyrexial' 'dysuria' 'hematuria' 'renal angle tenderness' 'lethargy'\n 'hyponatremia' 'hemodynamically stable' 'difficulty passing urine'\n 'consciousness clear' 'guaiac positive' 'monoclonal' 'ecchymosis'\n 'tumor cell invasion' 'haemorrhage' 'pallor' 'fatigue' 'heme positive'\n 'pain back' 'orthostasis' 'arthralgia' 'transaminitis' 'sputum purulent'\n 'hypoxemia' 'hypercapnia' 'patient non compliance' 'unconscious state'\n 'bedridden' 'abdominal tenderness' 'unsteady gait' 'hyperkalemia'\n 'urgency of\\xa0micturition' 'ascites' 'hypotension' 'enuresis'\n 'asterixis' 'muscle twitch' 'sleepy' 'headache' 'lightheadedness'\n 'food intolerance' 'numbness of hand' 'general discomfort' 'drowsiness'\n 'stiffness' 'prostatism' 'weight gain' 'tired' 'mass of body structure'\n 'has religious belief' 'nervousness' 'formication' 'hot flush' 'lesion'\n 'cushingoid facies' 'cushingoid\\xa0habitus' 'emphysematous change'\n 'decreased body weight' 'hoarseness' 'thicken'\n 'spontaneous rupture of membranes' 'muscle hypotonia' 'hypotonic'\n 'redness' 'hypesthesia' 'hyperacusis' 'scratch marks' 'sore to touch'\n 'burning sensation' 'satiety early' 'throbbing sensation quality'\n 'sensory discomfort' 'constipation' 'pain abdominal' 'heartburn'\n 'breech presentation' 'cyanosis' 'pain in lower limb' 'cardiomegaly'\n 'clonus' 'unwell' 'anorexia' 'history of - blackout' 'anosmia'\n 'metastatic lesion' 'hemianopsia homonymous' 'hematocrit decreased'\n 'neck stiffness' 'cicatrisation' 'hypometabolism' 'aura' 'myoclonus'\n 'gurgle' 'wheelchair bound' 'left\\xa0atrial\\xa0hypertrophy' 'oliguria'\n 'catatonia' 'unhappy' 'paresthesia' 'gravida 0' 'lung nodule'\n 'distended abdomen' 'ache' 'macerated skin' 'heavy feeling' 'rest pain'\n 'sinus rhythm' 'withdraw' 'behavior hyperactive' 'terrify' 'photopsia'\n 'giddy mood' 'disturbed family' 'hypersomnia' 'hyperhidrosis disorder'\n 'mydriasis' 'extrapyramidal sign' 'loose associations' 'exhaustion'\n 'snore' 'r wave feature' 'overweight' 'systolic murmur' 'asymptomatic'\n 'splenomegaly' 'bleeding of vagina' 'macule' 'photophobia'\n 'painful swallowing' 'cachexia' 'hypocalcemia result'\n 'hypothermia, natural' 'atypia' 'general unsteadiness' 'throat sore'\n 'snuffle' 'hacking cough' 'stridor' 'paresis' 'aphagia' 'focal seizures'\n 'abnormal sensation' 'stupor' 'fremitus' \"Stahli's line\"\n 'stinging sensation' 'paralyse' 'hirsutism' 'sniffle' 'bradykinesia'\n 'out of breath' 'urge incontinence' 'vision blurred' 'room spinning'\n 'rambling speech' 'clumsiness' 'decreased stool caliber' 'hematochezia'\n 'egophony' 'scar tissue' 'neologism' 'decompensation'\n 'stool color yellow' 'rigor - temperature-associated observation'\n 'paraparesis' 'moody' 'fear of falling' 'spasm' 'hyperventilation'\n 'excruciating pain' 'gag' 'posturing' 'pulse absent' 'dysesthesia'\n 'polymyalgia' 'passed stones' 'qt interval prolonged' 'ataxia'\n \"Heberden's node\" 'hepatomegaly' 'sciatica' 'frothy sputum'\n 'mass in breast' 'retropulsion' 'estrogen use' 'hypersomnolence'\n 'underweight' 'dullness' 'red blotches' 'colic abdominal' 'hypokalemia'\n 'hunger' 'prostate tender' 'pain foot' 'urinary hesitation'\n 'disequilibrium' 'flushing' 'indifferent mood' 'urinoma'\n 'hypoalbuminemia' 'pustule' 'slowing of urinary stream'\n 'extreme exhaustion' 'no status change' 'breakthrough pain'\n 'pansystolic murmur' 'systolic ejection murmur' 'stuffy nose'\n 'barking cough' 'rapid shallow breathing' 'noisy respiration'\n 'nasal discharge present' 'frail' 'cystic lesion' 'projectile vomiting'\n 'heavy legs' 'titubation' 'dysdiadochokinesia' 'achalasia' 'side pain'\n 'monocytosis' 'posterior\\xa0rhinorrhea' 'incoherent' 'lameness'\n 'claudication' 'clammy skin' 'mediastinal shift' 'nausea and vomiting'\n 'awakening early' 'tenesmus' 'fecaluria' 'pneumatouria' 'todd paralysis'\n 'alcoholic withdrawal symptoms' 'myalgia' 'dyspareunia' 'poor dentition'\n 'floppy' 'inappropriate affect' 'poor feeding' 'moan' 'welt' 'tinnitus'\n 'hydropneumothorax' 'superimposition' 'feeling strange' 'uncoordination'\n 'absences finding' 'tonic seizures' 'debilitation' 'impaired cognition'\n 'drool' 'pin-point pupils' 'tremor resting' 'groggy' 'adverse reaction'\n 'adverse effect' 'abdominal bloating' 'fatigability' 'para 2' 'abortion'\n 'intermenstrual heavy bleeding' 'previous pregnancies 2' 'primigravida'\n 'abnormally hard consistency' 'proteinemia' 'pain neck' 'dizzy spells'\n 'shooting pain' 'hyperemesis' 'milky' 'regurgitates after swallowing'\n 'lip smacking' 'phonophobia' 'rolling of eyes' 'ambidexterity'\n 'pulsus\\xa0paradoxus' 'gravida 10' 'bruit' 'breath-holding spell'\n 'scleral\\xa0icterus' 'retch' 'blanch' 'elation'\n 'verbally abusive behavior' 'transsexual'\n 'behavior showing increased motor activity' 'coordination abnormal'\n 'choke' 'bowel sounds decreased' 'no known drug allergies'\n 'low back pain' 'charleyhorse' 'sedentary' 'feels hot/feverish' 'flare'\n 'pericardial friction rub' 'hoard' 'panic' 'cardiovascular finding'\n 'cardiovascular event' 'soft tissue swelling' 'rhd positive' 'para 1'\n 'nasal flaring' 'sneeze' 'hypertonicity' \"Murphy's sign\" 'flatulence'\n 'gasping for breath' 'feces in rectum' 'prodrome' 'hypoproteinemia'\n 'alcohol binge episode' 'abdomen acute' 'air fluid level'\n 'catching breath' 'large-for-dates fetus' 'immobile' 'homicidal thoughts']\n",
  "history_begin_time" : 1717362692786,
  "history_end_time" : 1717362693987,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "q3ZwI94lXllb",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\ncols = np.asarray(df['symptom'].unique())\nprint(cols)\n\n# # Create a new dataframe to save OHE labels\n# df_ohe = pd.DataFrame(columns = cols)\n# # df_ohe.head()\n\n\n# for i in range(len(onehot_encoded)):\n#     df_ohe.loc[i] = onehot_encoded[i]\n\n# df_ohe.head()\n\n# # Disease Dataframe\n# df_disease = df['disease']\n# df_disease.head()\n\n# # Concatenate OHE Labels with the Disease Column\n# df_concat = pd.concat([df_disease,df_ohe], axis=1)\n# df_concat.head()\n\n\n# df_concat.drop_duplicates(keep='first',inplace=True)\n# df_concat.head()\n# len(df_concat)\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\nTraceback (most recent call last):\n  File \"/Users/vangavetisaivivek/gw-workspace/q3ZwI94lXllb/encoder.py\", line 30, in <module>\n    cols = np.asarray(df['symptom'].unique())\n           ^^\nNameError: name 'np' is not defined\n",
  "history_begin_time" : 1717362669569,
  "history_end_time" : 1717362670737,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "yrVJ0UqXshnm",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# print\n# print(onehot_encoded[0])\nprint('length of onehot encoded',len(onehot_encoded[0]))\n\n# cols = np.asarray(df['symptom'].unique())\n# # cols\n\n# # Create a new dataframe to save OHE labels\n# df_ohe = pd.DataFrame(columns = cols)\n# # df_ohe.head()\n\n\n# for i in range(len(onehot_encoded)):\n#     df_ohe.loc[i] = onehot_encoded[i]\n\n# df_ohe.head()\n\n# # Disease Dataframe\n# df_disease = df['disease']\n# df_disease.head()\n\n# # Concatenate OHE Labels with the Disease Column\n# df_concat = pd.concat([df_disease,df_ohe], axis=1)\n# df_concat.head()\n\n\n# df_concat.drop_duplicates(keep='first',inplace=True)\n# df_concat.head()\n# len(df_concat)\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\nlength of onehot encoded 404\n",
  "history_begin_time" : 1717362640714,
  "history_end_time" : 1717362641929,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "8DJOCXDITWnr",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse_output=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# # onehot_encoded[0]\n# # len(onehot_encoded[0])\n\n# cols = np.asarray(df['symptom'].unique())\n# # cols\n\n# # Create a new dataframe to save OHE labels\n# df_ohe = pd.DataFrame(columns = cols)\n# # df_ohe.head()\n\n\n# for i in range(len(onehot_encoded)):\n#     df_ohe.loc[i] = onehot_encoded[i]\n\n# df_ohe.head()\n\n# # Disease Dataframe\n# df_disease = df['disease']\n# df_disease.head()\n\n# # Concatenate OHE Labels with the Disease Column\n# df_concat = pd.concat([df_disease,df_ohe], axis=1)\n# df_concat.head()\n\n\n# df_concat.drop_duplicates(keep='first',inplace=True)\n# df_concat.head()\n# len(df_concat)\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n[[0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n ...\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]\n [0. 0. 0. ... 0. 0. 0.]]\n",
  "history_begin_time" : 1717362569469,
  "history_end_time" : 1717362570758,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "A0cK51HZ7LwS",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\nonehot_encoder = OneHotEncoder(sparse=False)\ninteger_encoded = integer_encoded.reshape(len(integer_encoded), 1)\nonehot_encoded = onehot_encoder.fit_transform(integer_encoded)\nprint(onehot_encoded)\n\n# # onehot_encoded[0]\n# # len(onehot_encoded[0])\n\n# cols = np.asarray(df['symptom'].unique())\n# # cols\n\n# # Create a new dataframe to save OHE labels\n# df_ohe = pd.DataFrame(columns = cols)\n# # df_ohe.head()\n\n\n# for i in range(len(onehot_encoded)):\n#     df_ohe.loc[i] = onehot_encoded[i]\n\n# df_ohe.head()\n\n# # Disease Dataframe\n# df_disease = df['disease']\n# df_disease.head()\n\n# # Concatenate OHE Labels with the Disease Column\n# df_concat = pd.concat([df_disease,df_ohe], axis=1)\n# df_concat.head()\n\n\n# df_concat.drop_duplicates(keep='first',inplace=True)\n# df_concat.head()\n# len(df_concat)\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\nTraceback (most recent call last):\n  File \"/Users/vangavetisaivivek/gw-workspace/A0cK51HZ7LwS/encoder.py\", line 21, in <module>\n    onehot_encoder = OneHotEncoder(sparse=False)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: OneHotEncoder.__init__() got an unexpected keyword argument 'sparse'\n",
  "history_begin_time" : 1717362481340,
  "history_end_time" : 1717362482474,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Failed"
},{
  "history_id" : "jl5zVDeSwg9Y",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\nlabel_encoder = LabelEncoder()\ninteger_encoded = label_encoder.fit_transform(df['symptom'])\nprint(integer_encoded)\n\n# # One Hot Encode the Labels\n# onehot_encoder = OneHotEncoder(sparse=False)\n# integer_encoded = integer_encoded.reshape(len(integer_encoded), 1)\n# onehot_encoded = onehot_encoder.fit_transform(integer_encoded)\n# print(onehot_encoded)\n\n# # onehot_encoded[0]\n# # len(onehot_encoded[0])\n\n# cols = np.asarray(df['symptom'].unique())\n# # cols\n\n# # Create a new dataframe to save OHE labels\n# df_ohe = pd.DataFrame(columns = cols)\n# # df_ohe.head()\n\n\n# for i in range(len(onehot_encoded)):\n#     df_ohe.loc[i] = onehot_encoded[i]\n\n# df_ohe.head()\n\n# # Disease Dataframe\n# df_disease = df['disease']\n# df_disease.head()\n\n# # Concatenate OHE Labels with the Disease Column\n# df_concat = pd.concat([df_disease,df_ohe], axis=1)\n# df_concat.head()\n\n\n# df_concat.drop_duplicates(keep='first',inplace=True)\n# df_concat.head()\n# len(df_concat)\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n[328  87  28 ... 361 130 122]\n",
  "history_begin_time" : 1717362461884,
  "history_end_time" : 1717362463120,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "WSWyZnH1wVDk",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n\n# Encode the Labels\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\n\n# label_encoder = LabelEncoder()\n# integer_encoded = label_encoder.fit_transform(df['symptom'])\n# print(integer_encoded)\n\n# # One Hot Encode the Labels\n# onehot_encoder = OneHotEncoder(sparse=False)\n# integer_encoded = integer_encoded.reshape(len(integer_encoded), 1)\n# onehot_encoded = onehot_encoder.fit_transform(integer_encoded)\n# print(onehot_encoded)\n\n# # onehot_encoded[0]\n# # len(onehot_encoded[0])\n\n# cols = np.asarray(df['symptom'].unique())\n# # cols\n\n# # Create a new dataframe to save OHE labels\n# df_ohe = pd.DataFrame(columns = cols)\n# # df_ohe.head()\n\n\n# for i in range(len(onehot_encoded)):\n#     df_ohe.loc[i] = onehot_encoded[i]\n\n# df_ohe.head()\n\n# # Disease Dataframe\n# df_disease = df['disease']\n# df_disease.head()\n\n# # Concatenate OHE Labels with the Disease Column\n# df_concat = pd.concat([df_disease,df_ohe], axis=1)\n# df_concat.head()\n\n\n# df_concat.drop_duplicates(keep='first',inplace=True)\n# df_concat.head()\n# len(df_concat)\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n",
  "history_begin_time" : 1717362438143,
  "history_end_time" : 1717362439304,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},{
  "history_id" : "a0r4Pr32Z0gK",
  "history_input" : "# Write your first Python code in Geoweaver\nfrom sklearn import preprocessing\nimport pandas as pd\nimport os\n\nhomedir = os.path.expanduser('~')\ndf = pd.read_csv(f'{homedir}/research/disease-prediction/cleaned_data.csv')\nn_unique = len(df['symptom'].unique())\nprint(n_unique)\nprint(df.dtypes)\n# n_unique\n# df.dtypes\n\n# Encode the Labels\n# from sklearn.preprocessing import LabelEncoder\n# from sklearn.preprocessing import OneHotEncoder\n\n# label_encoder = LabelEncoder()\n# integer_encoded = label_encoder.fit_transform(df['symptom'])\n# print(integer_encoded)\n\n# # One Hot Encode the Labels\n# onehot_encoder = OneHotEncoder(sparse=False)\n# integer_encoded = integer_encoded.reshape(len(integer_encoded), 1)\n# onehot_encoded = onehot_encoder.fit_transform(integer_encoded)\n# print(onehot_encoded)\n\n# # onehot_encoded[0]\n# # len(onehot_encoded[0])\n\n# cols = np.asarray(df['symptom'].unique())\n# # cols\n\n# # Create a new dataframe to save OHE labels\n# df_ohe = pd.DataFrame(columns = cols)\n# # df_ohe.head()\n\n\n# for i in range(len(onehot_encoded)):\n#     df_ohe.loc[i] = onehot_encoded[i]\n\n# df_ohe.head()\n\n# # Disease Dataframe\n# df_disease = df['disease']\n# df_disease.head()\n\n# # Concatenate OHE Labels with the Disease Column\n# df_concat = pd.concat([df_disease,df_ohe], axis=1)\n# df_concat.head()\n\n\n# df_concat.drop_duplicates(keep='first',inplace=True)\n# df_concat.head()\n# len(df_concat)\n\n# cols = df_concat.columns\n# cols\n# cols = cols[1:]\n\n# # Since, every disease has multiple symptoms, combine all symptoms per disease per row\n# df_concat = df_concat.groupby('disease').sum()\n# df_concat = df_concat.reset_index()\n# df_concat[:5]\n\n# df_concat.to_csv(\"./dataset/training_dataset.csv\", index=False)\n\n# # One Hot Encoded Features\n# X = df_concat[cols]\n\n# # Labels\n# y = df_concat['disease']\n\n",
  "history_output" : "404\nUnnamed: 0           int64\ndisease             object\nsymptom             object\noccurence_count    float64\ndtype: object\n",
  "history_begin_time" : 1717362406804,
  "history_end_time" : 1717362408566,
  "history_notes" : null,
  "history_process" : "hv7zjp",
  "host_id" : null,
  "indicator" : "Done"
},]
